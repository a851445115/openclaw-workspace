{
  "id": "multi-agent-orchestrator",
  "name": "Multi Agent Orchestrator",
  "description": "Minimal scaffold for file-backed team orchestration.",
  "skills": ["."],
  "configSchema": {
    "type": "object",
    "additionalProperties": false,
    "properties": {
      "projectId": { "type": "string" },
      "channel": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "provider": { "type": "string", "enum": ["feishu"] },
          "groupId": { "type": "string" },
          "milestoneOnly": { "type": "boolean", "default": true }
        }
      },
      "orchestrator": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "maxConcurrentSpawns": { "type": "integer", "minimum": 1, "default": 3 },
          "retryPolicy": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "maxAttempts": { "type": "integer", "minimum": 1, "default": 2 },
              "backoff": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "mode": { "type": "string", "enum": ["fixed", "linear", "exponential"], "default": "exponential" },
                  "baseMs": { "type": "integer", "minimum": 1, "default": 500 },
                  "maxMs": { "type": "integer", "minimum": 1, "default": 8000 },
                  "multiplier": { "type": "number", "minimum": 1, "default": 2.0 },
                  "jitterPct": { "type": "integer", "minimum": 0, "maximum": 100, "default": 20 }
                }
              }
            }
          },
          "budgetPolicy": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "guardrails": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "maxTaskTokens": { "type": "integer", "minimum": 1, "default": 12000 },
                  "maxTaskWallTimeSec": { "type": "integer", "minimum": 1, "default": 1200 },
                  "maxTaskRetries": { "type": "integer", "minimum": 1, "default": 3 }
                }
              }
            }
          }
        }
      },
      "protocol": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "messageTypes": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "TASK": { "type": "string", "default": "[TASK]" },
              "CLAIM": { "type": "string", "default": "[CLAIM]" },
              "DONE": { "type": "string", "default": "[DONE]" },
              "BLOCKED": { "type": "string", "default": "[BLOCKED]" },
              "REVIEW": { "type": "string", "default": "[REVIEW]" },
              "DIAG": { "type": "string", "default": "[DIAG]" }
            }
          },
          "allowDirectAgentOverride": { "type": "boolean", "default": true }
        }
      },
      "agents": {
        "type": "array",
        "items": {
          "oneOf": [
            { "type": "string" },
            {
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "id": { "type": "string" },
                "capabilities": {
                  "type": "array",
                  "items": { "type": "string" }
                }
              },
              "required": ["id"]
            }
          ]
        }
      }
    }
  }
}
